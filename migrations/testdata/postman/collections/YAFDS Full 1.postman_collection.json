{
  "info": {
    "_postman_id": "38c1fda7-8c88-4fd9-a0e1-c5b9f954a878",
    "name": "YAFDS Full",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Courier",
      "item": [
        {
          "name": "Register",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a961d4dd-68fb-4f18-8548-5681615566d2",
                "exec": [
                  "pm.test(\"Store user ID on successful registration\", function () {\r",
                  "    if (pm.response.code === 201) {\r",
                  "        const jsonData = pm.response.json();\r",
                  "        pm.environment.set(\"lastUserId\", jsonData.id);\r",
                  "    }\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "a9c6280d-19fc-4dfc-b50e-e9ce51fbe1f3",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "4295990e-7d02-4d55-bbdd-915075ff90b4",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"name\": \"{{name}}\",\r\n    \"wallet_address\": \"{{wallet_address}}\",\r\n    \"transport_type\": \"{{transport_type}}\",\r\n    \"password\": \"{{password}}\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8090/register",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8090",
              "path": [
                "register"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d37b0856-77b4-4a7a-bbc6-501c9d7b3523",
                "exec": [
                  "pm.test(\"Login status is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// Если в ответе есть токен\r",
                  "try {\r",
                  "    const json = pm.response.json();\r",
                  "    if (json.token) {\r",
                  "        pm.environment.set(\"lastToken\", json.token);\r",
                  "    }\r",
                  "} catch (e) {\r",
                  "    // если не JSON - просто пропускаем\r",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "5efd4c46-4b8c-431e-b4ee-1c19731093a0",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "4522bfe0-1bcf-40e5-a267-6e159999b4f1",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"wallet_address\": \"{{wallet_address}}\",\r\n    \"password\": \"{{password}}\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8090/login",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8090",
              "path": [
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "List Orders",
          "id": "7f49d300-8eda-49af-9827-304a542aadb9",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8091/orders",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8091",
              "path": [
                "orders"
              ]
            }
          },
          "response": []
        }
      ],
      "id": "601c8909-5b98-4292-86d2-895a1f7ec9b0"
    },
    {
      "name": "Customer",
      "item": [
        {
          "name": "Register",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5285353e-9b3e-4ccb-8f58-6afc2cbd6d3e",
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set(\"customer_id\", jsonData.id);",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "d98aacd0-6ad1-4da5-a717-1dd7611b6cbe",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "48a4ff71-183f-45d3-93ca-043acccbb883",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"{{name}}\",\n    \"wallet_address\": \"{{wallet_address}}\",\n    \"address\": \"{{address}}\",\n    \"password\": \"{{password}}\"\n}"
            },
            "url": {
              "raw": "http://localhost:8091/register",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8091",
              "path": [
                "register"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set(\"customer_token\", jsonData.token);",
                  "    pm.collectionVariables.set(\"customer_id\", jsonData.id);",
                  "}"
                ],
                "type": "text/javascript",
                "id": "9463de0f-308a-4942-8e94-00a74765de5f"
              }
            }
          ],
          "id": "c220a985-78e8-4d6a-9787-5eca04a76516",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"wallet_address\": \"{{wallet_address}}\",\n    \"password\": \"{{password}}\"\n}"
            },
            "url": {
              "raw": "http://localhost:8091/login",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8091",
              "path": [
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Order",
          "id": "3812daae-27af-4bea-ba94-2507f62a1711",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"customer_id\": \"{{customer_id}}\",\n    \"courier_id\": \"{{courier_id}}\",\n    \"status\": \"{{status}}\"\n}"
            },
            "url": {
              "raw": "http://localhost:8091/orders",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8091",
              "path": [
                "orders"
              ]
            }
          },
          "response": []
        },
        {
          "name": "List Orders",
          "id": "6bb8aa82-cdef-4346-859a-ed1e87a7a61f",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8091/orders",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8091",
              "path": [
                "orders"
              ]
            }
          },
          "response": []
        }
      ],
      "id": "498d1496-37f7-4080-92b0-73c0b5a696ea"
    },
    {
      "name": "Restaurant",
      "item": [
        {
          "name": "Register",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "04654b74-e757-4e4e-80c4-76253daa4c7f",
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set(\"restaurant_id\", jsonData.id);",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "3da6a7d6-5d94-45ad-b1ec-24ab6774ac48",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "25076d05-c341-4bd1-9ebb-375ef73787a3",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"{{name}}\",\n    \"wallet_address\": \"{{wallet_address}}\",\n    \"address\": \"{{address}}\",\n    \"is_active\": {{is_active}},\n    \"password\": \"{{password}}\"\n}"
            },
            "url": {
              "raw": "http://localhost:8092/register",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8092",
              "path": [
                "register"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "909fe102-506d-4b70-804b-fc9e0473e401",
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set(\"restaurant_token\", jsonData.token);",
                  "    pm.collectionVariables.set(\"restaurant_id\", jsonData.id);",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "a37aa980-a92b-408d-a4ce-4f1321b70c14",
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "id": "fd8f5482-d16b-4421-8ac7-8b1f6185c470",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"wallet_address\": \"{{wallet_address}}\",\n    \"password\": \"{{password}}\"\n}"
            },
            "url": {
              "raw": "http://localhost:8092/login",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8092",
              "path": [
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "List Orders",
          "id": "ec80445b-ef28-4397-a83c-89132df51321",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8092/orders",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8092",
              "path": [
                "orders"
              ]
            }
          },
          "response": []
        }
      ],
      "id": "a48e7458-d5a7-4008-9882-af4b3e92f92b"
    },
    {
      "name": "Single User Demo (Hardcoded)",
      "item": [
        {
          "name": "1. Register Courier (Bob)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set(\"demo_courier_id\", jsonData.id);",
                  "}"
                ],
                "type": "text/javascript",
                "id": "5924792b-d7dd-40dd-b7be-5856e020b9a4"
              }
            }
          ],
          "id": "7e0b4da6-9246-40c9-882f-e752143b16a7",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Bob Courier\",\n    \"wallet_address\": \"0xBobWallet123\",\n    \"password\": \"password123\",\n    \"transport_type\": \"scooter\"\n}"
            },
            "url": {
              "raw": "http://localhost:8090/register",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8090",
              "path": [
                "register"
              ]
            }
          },
          "response": []
        },
        {
          "name": "2. Login Courier (Bob)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set(\"demo_courier_token\", jsonData.token);",
                  "    pm.collectionVariables.set(\"demo_courier_id\", jsonData.id);",
                  "}"
                ],
                "type": "text/javascript",
                "id": "66057dfb-7571-49a5-af3b-40d0bbc21a90"
              }
            }
          ],
          "id": "b948a442-0843-47df-acdd-d747cd3dfb7d",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"wallet_address\": \"0xBobWallet123\",\n    \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "http://localhost:8090/login",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8090",
              "path": [
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "3. Register Customer (Alice)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set(\"demo_customer_id\", jsonData.id);",
                  "}"
                ],
                "type": "text/javascript",
                "id": "1c014bb7-5e57-4333-9fc2-8e67cfd69e02"
              }
            }
          ],
          "id": "d9a79fa1-c2cd-4c04-b02f-08008f46f466",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Alice Customer\",\n    \"wallet_address\": \"0xAliceWallet123\",\n    \"address\": \"Alice Wonderland 1\",\n    \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "http://localhost:8091/register",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8091",
              "path": [
                "register"
              ]
            }
          },
          "response": []
        },
        {
          "name": "4. Login Customer (Alice)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set(\"demo_customer_token\", jsonData.token);",
                  "    pm.collectionVariables.set(\"demo_customer_id\", jsonData.id);",
                  "}"
                ],
                "type": "text/javascript",
                "id": "b95c868b-ffaf-4627-9db6-dd49b109797f"
              }
            }
          ],
          "id": "7671fc31-325e-4324-bf8f-1b89fd7c7c32",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"wallet_address\": \"0xAliceWallet123\",\n    \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "http://localhost:8091/login",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8091",
              "path": [
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "5. Register Restaurant (Charlie)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set(\"demo_restaurant_id\", jsonData.id);",
                  "}"
                ],
                "type": "text/javascript",
                "id": "bfdfd113-b3a9-42df-9535-8dee65325337"
              }
            }
          ],
          "id": "1e2575c1-f9c9-4e9a-8476-4512eb8eb587",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Charlie Burger\",\n    \"wallet_address\": \"0xCharlieWallet123\",\n    \"address\": \"Food St 1\",\n    \"is_active\": true,\n    \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "http://localhost:8092/register",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8092",
              "path": [
                "register"
              ]
            }
          },
          "response": []
        },
        {
          "name": "6. Login Restaurant (Charlie)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set(\"demo_restaurant_token\", jsonData.token);",
                  "    pm.collectionVariables.set(\"demo_restaurant_id\", jsonData.id);",
                  "}"
                ],
                "type": "text/javascript",
                "id": "62f46673-4af1-47ba-a59d-e55ed4fa5770"
              }
            }
          ],
          "id": "4eeb6b64-ee0c-43b1-a498-293e7105abae",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"wallet_address\": \"0xCharlieWallet123\",\n    \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "http://localhost:8092/login",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8092",
              "path": [
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "7. Create Order (Alice -> Bob)",
          "id": "f6248330-d287-4bd9-aa31-ed871bf3ffbb",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"customer_id\": \"7371c93e-c478-5b31-bb30-342e9624a12e\",\n    \"courier_id\": \"4913883e-f1a1-5d84-9b51-a14dca8fa05d\",\n    \"status\": \"created\"\n}"
            },
            "url": {
              "raw": "http://localhost:8091/orders",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8091",
              "path": [
                "orders"
              ]
            }
          },
          "response": []
        },
        {
          "name": "8. List Orders (Customer)",
          "id": "84ce7f6e-a673-4b25-aa6d-880d62d98574",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8091/orders?customer_id={{demo_customer_id}}",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8091",
              "path": [
                "orders"
              ],
              "query": [
                {
                  "key": "customer_id",
                  "value": "{{demo_customer_id}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "9. List Orders (Courier)",
          "id": "0a8d1c3f-0606-42fe-af8c-d9712165a6a9",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8090/orders?courier_id={{demo_courier_id}}",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8090",
              "path": [
                "orders"
              ],
              "query": [
                {
                  "key": "courier_id",
                  "value": "{{demo_courier_id}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "10. List Orders (Restaurant)",
          "id": "7ffb7677-851b-41fe-9a64-5210ec31632b",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:8092/orders",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8092",
              "path": [
                "orders"
              ]
            }
          },
          "response": []
        }
      ],
      "id": "ba2517ec-abd8-4226-9570-dc4efc48b209"
    }
  ],
  "variable": [
    {
      "id": "1cceb71e-ee1e-44c2-87ae-c8078309380a",
      "key": "name",
      "value": "Test User"
    },
    {
      "id": "64937c1e-ea2a-4e9d-94e9-3c64031f0604",
      "key": "wallet_address",
      "value": "0x1234567890abcdef"
    },
    {
      "id": "915bd873-1fee-494f-b6b3-784ba26a97db",
      "key": "courier_wallet_address",
      "value": "0xabcdef1234567890"
    },
    {
      "id": "6445f6fe-b59d-42d9-a2fe-49e9790fcf36",
      "key": "restaurant_wallet_address",
      "value": "0x9876543210fedcba"
    },
    {
      "id": "fd63f1be-8c22-4619-afb0-67bc2fcfc695",
      "key": "address",
      "value": "123 Main St"
    },
    {
      "id": "4a271139-4861-42b7-ba6c-df07f40a95f8",
      "key": "password",
      "value": "password123"
    },
    {
      "id": "f30b10b8-c046-4e82-8672-abba31fcd0a2",
      "key": "customer_id",
      "value": ""
    },
    {
      "id": "f490f693-af7f-4b84-b220-587c6ae09617",
      "key": "courier_id",
      "value": ""
    },
    {
      "id": "198ca456-3541-4cfc-9487-5530463e7102",
      "key": "restaurant_id",
      "value": ""
    },
    {
      "id": "016e3186-817b-436d-8fe0-b36dd65fb8f5",
      "key": "customer_token",
      "value": ""
    },
    {
      "id": "6e91069c-7b64-4481-90df-102c1280c23b",
      "key": "courier_token",
      "value": ""
    },
    {
      "id": "ecbd4a50-1c92-49f1-ba86-dbb5a81edbb9",
      "key": "restaurant_token",
      "value": ""
    },
    {
      "id": "9d131486-f2bf-4c37-af22-1d33f355bd6e",
      "key": "demo_customer_id",
      "value": ""
    },
    {
      "id": "c2af4211-3542-4d55-abc9-35d770fdf917",
      "key": "demo_courier_id",
      "value": ""
    },
    {
      "id": "12ea6949-4c3b-4ac4-b798-83d8989b1caf",
      "key": "demo_restaurant_id",
      "value": ""
    },
    {
      "id": "3a50afad-a4cd-48d7-9c72-27327e16a720",
      "key": "demo_customer_token",
      "value": ""
    },
    {
      "id": "e51de1a6-ed75-4605-91db-0052f9d59000",
      "key": "demo_courier_token",
      "value": ""
    },
    {
      "id": "51507707-8f54-4f5b-befd-5f36f07f8a7f",
      "key": "demo_restaurant_token",
      "value": ""
    }
  ]
}